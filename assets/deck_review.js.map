{"version":3,"sources":["webpack:///./src/deck_review.js","webpack:///./~/babel-runtime/helpers/defineProperty.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/core-js/library/fn/object/define-property.js","webpack:///./src/helpers.js","webpack:///./src/redux-tree.js"],"names":[],"mappings":"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","file":"deck_review.js","sourcesContent":["// TODO: this is fucking huge\n// require('babel-polyfill');\n\nconst React = require('react');\nconst ReactDOM = require('react-dom');\nconst {Provider, connect} = require('react-redux');\nconst {createStore} = require('redux');\nconst classnames = require('classnames');\n// const _ = require('lodash');\n// const {combineReducers} = require('redux');\n\n// const combineReducers = require('./combineReducers');\n// NOTE: above won't work; below is used to be in parity with redux upstream\n// import combineReducers from './combineReducers';\n\nconst {/*serializeProps, deserializeProps,*/ genKey} = require('./helpers');\nconst {applyReducer, reducer: treeReducer} = require('./redux-tree');\n\n/* react components */\n\n// const styleA = {\n//     marginTop: 0,\n//     marginBottom: 0\n// };\n\n// TODO: move to its own file\n// const CardTitleReviewComponent = React.createClass({\n//     render: function() {\n//         return (\n//             <h5 style={styleA} className='text-break'>\n//                 <small className='label'>{'Reviewing'}</small>\n//                 {' '}\n//                 {'What does the fox say?'}\n//             </h5>\n//         );\n//     }\n// });\n\n\n\n// TODO: move to its own file for re-use\nconst __CardReviewTabsComponent = function(props) {\n\n    const tabType = props[TAB];\n    const {dispatch} = props;\n\n    return (\n        <div className='btn-group btn-group-block'>\n            <a\n                onClick={switchTab(dispatch, TAB_QUESTION)}\n                href='#'\n                className = {classnames('btn', {'btn-primary': tabType === TAB_QUESTION})}>\n                {'Question'}\n            </a>\n            <a\n                onClick={switchTab(dispatch, TAB_DESCRIPTION)}\n                href='#'\n                className = {classnames('btn', {'btn-primary': tabType === TAB_DESCRIPTION})}>\n                {'Description'}\n            </a>\n        </div>\n    );\n}\n\n// eslint-disable-next-line camelcase\nconst __CardReviewTabsComponent__mapStateToProps = function(state) {\n    return{\n        [TAB]: state[TAB]\n    };\n}\n\nconst CardReviewTabsComponent = connect(\n    __CardReviewTabsComponent__mapStateToProps\n)(__CardReviewTabsComponent);\n\nconst __RenderSourceComponent = function(props) {\n\n    const {dispatch, switchTab} = props;\n    const currentTab = props[MARKDOWN_VIEW];\n\n    return (\n        <ul className='tab'>\n            <li className = {classnames('tab-item', {'active': currentTab === MARKDOWN_VIEW_RENDER})}>\n                <a\n                    href='#'\n                    onClick={switchTab(dispatch, MARKDOWN_VIEW_RENDER)}>\n                    {'Render'}\n                </a>\n            </li>\n            <li className = {classnames('tab-item', {'active': currentTab === MARKDOWN_VIEW_SOURCE})}>\n                <a\n                    href='#'\n                    onClick={switchTab(dispatch, MARKDOWN_VIEW_SOURCE)}>\n                    {'Source'}\n                </a>\n            </li>\n        </ul>\n    );\n}\n\nconst RenderSourceComponent = connect(\n\n    // mapStateToProps\n    (state) => {\n        const currentCardTab = state[TAB];\n        return{\n            [MARKDOWN_VIEW]: state[currentCardTab][MARKDOWN_VIEW],\n            switchTab: (dispatch, markdownView) => switchMarkdownView(dispatch, currentCardTab, markdownView)\n        };\n    },\n\n    // mapDispatchToProps\n    // (dispatch) => {\n    //     return {\n    //         switchTab:\n    //     };\n    // }\n)(__RenderSourceComponent);\n\nconst ReviewScoreCommitComponent = function(/* props */) {\n    return (\n        <div className='columns'>\n            <div className='column col-9'>\n                <a href='#' className='btn btn-block'>\n                    {'Reveal Answer'}\n                </a>\n            </div>\n            <div className='column col-3'>\n                <a href='#' className='btn btn-block'>\n                    {'Skip Card'}\n                </a>\n            </div>\n        </div>\n    );\n}\n\nconst DeckReviewContainer = function(/* props */) {\n    return (\n        <div>\n            <div className='columns'>\n                <div className='column'>\n                    <CardReviewTabsComponent />\n                </div>\n            </div>\n            <div className='columns'>\n                <div className='column'>\n                    <RenderSourceComponent />\n                </div>\n            </div>\n            <div className='columns'>\n                <div className='column'>\n                    <ReviewScoreCommitComponent />\n                </div>\n            </div>\n        </div>\n    );\n}\n\n/* constants */\n\n/*\nenum Tab {\n    Question,\n    Answer,\n    Description\n}\n */\nconst TAB = genKey();\nconst TAB_QUESTION = genKey();\nconst TAB_ANSWER = genKey();\nconst TAB_DESCRIPTION = genKey();\n\n/*\nenum MarkdownView {\n    Render,\n    Source\n}\n */\nconst MARKDOWN_VIEW = genKey();\nconst MARKDOWN_VIEW_RENDER = genKey();\nconst MARKDOWN_VIEW_SOURCE = genKey();\n\n/* redux action creators */\n// NOTE: FSA compliant\n\nconst switchTab = function(dispatch, tabType) {\n    return function(event) {\n        event.preventDefault();\n        dispatch(\n            applyReducer(\n                // path\n                [TAB],\n                // reducer\n                tabReducer,\n                // action\n                {\n                    type: tabType\n                }\n            )\n        );\n    }\n}\n\nconst switchMarkdownView = function(dispatch, target, markdownView) {\n    // target: Tab\n    return function(event) {\n        event.preventDefault();\n        dispatch(\n            applyReducer(\n                // path\n                [target, MARKDOWN_VIEW],\n                // reducer\n                markdownViewReducer,\n                // action\n                {\n                    type: markdownView\n                }\n            )\n        );\n    }\n}\n\n\n/* redux reducers */\n\nconst tabReducer = function(state = TAB_QUESTION, action) {\n\n    switch(action.type) {\n    case TAB_QUESTION:\n    case TAB_DESCRIPTION:\n        state = action.type;\n        break;\n\n    default:\n        state = TAB_QUESTION;\n    }\n\n    return state;\n}\n\nconst markdownViewReducer = function(state = MARKDOWN_VIEW_RENDER, action) {\n\n    switch(action.type) {\n    case MARKDOWN_VIEW_RENDER:\n    case MARKDOWN_VIEW_SOURCE:\n        state = action.type;\n        break;\n\n    default:\n        state = MARKDOWN_VIEW_RENDER;\n    }\n\n    return state;\n}\n\n/* redux store */\n\nconst initialState = {\n    [TAB]: TAB_QUESTION,\n\n    [TAB_QUESTION]: {\n        [MARKDOWN_VIEW]: MARKDOWN_VIEW_RENDER\n    },\n\n    [TAB_ANSWER]: {\n        [MARKDOWN_VIEW]: MARKDOWN_VIEW_RENDER\n    },\n\n    [TAB_DESCRIPTION]: {\n        [MARKDOWN_VIEW]: MARKDOWN_VIEW_RENDER\n    }\n};\n\nconst store = createStore(treeReducer, initialState);\n\n/* start */\n\nReactDOM.render(\n    <Provider store={store}>\n        <DeckReviewContainer />\n    </Provider>,\n    document.getElementById('deck-review-container'));\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/deck_review.js\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/defineProperty.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/define-property.js\n ** module id = 2\n ** module chunks = 0\n **/","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/define-property.js\n ** module id = 3\n ** module chunks = 0\n **/","\n// alternative to Symbol()\nlet _objKey = 1;\nconst genKey = function() {\n    return '__genKey_' + String(_objKey++);\n};\n\nmodule.exports = {\n    genKey\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers.js\n **/","const _ = require('lodash');\n\nconst APPLY_REDUCER = 'APPLY_REDUCER';\nconst EMPTY_OBJ = {};\n\nconst treeReducer = function(state = EMPTY_OBJ, action) {\n\n    let patch = EMPTY_OBJ;\n\n    switch(action.type) {\n\n    case APPLY_REDUCER:\n\n        const {path, reducer} = action.payload;\n\n        // TODO: path is array\n        // TODO: check reducer is function\n\n        const specificState = _.get(state, path);\n\n        // TODO: _.has(state, path);\n\n        const result = reducer(specificState, action.payload.action);\n        patch = _.set({}, path, result);\n        break;\n\n\n    default:\n        return state;\n    }\n\n    // console.log('patched');\n    return _.assign({}, state, patch);\n    // return {...state, ...patch};\n}\n\nconst applyReducer = function(path, reducer, action) {\n    return {\n        type: APPLY_REDUCER,\n        payload: {\n            path: path, // array\n            reducer: reducer, // redux compatible reducer\n            action: action // action to be applied to given reducer\n        }\n    }\n}\n\nmodule.exports = {\n    reducer: treeReducer,\n    applyReducer\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/redux-tree.js\n **/"],"sourceRoot":""}